<div class="chatwindow panel panel-default">

    <div class="panel-heading top-bar">
        <div class="panel-title-container">
        <h3 class="panel-title">
            <span class="glyphicon glyphicon-comment"></span>
            Chat - {{currentThread.name}}
        </h3>
        </div>
    </div>

    <div class="panel-body msg-container-base">
        <chat-message
            *ngFor="let message of messages | async; let i=index"
            [message]="message"
            (updateLastAuthor)="updateLastAuthor($event)"
            [lastAuthor]="lastAuthor"
            [index]="i"
            >
        </chat-message>
    </div>

    <div class="panel-footer">


        <nav class="navbar navbar-default">
        <div class="container-fluid">
            
            <form class="navbar-form navbar-right">
                <div class="checkbox">
                    <label>
                    <input [(ngModel)]="isPressEnter" type="checkbox"> Press Enter to send
                    </label>
                </div>
                <button type="submit" class="btn btn-default" (click)="onEnter($event)">Send</button>
            </form>
        </div><!-- /.container-fluid -->
        </nav>

        <textarea class="form-control" rows="5"
                    placeholder="Write your message here..." 
                    (keydown.enter)="onEnter($event)"
                    (keydown.control.Enter)="onEnter($event)"
                    [(ngModel)]="draftMessage.text">
        </textarea>

    </div>

</div>